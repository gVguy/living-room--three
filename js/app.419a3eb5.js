(function(){"use strict";var e={5142:function(e,n,t){var o=t(9242),i=t(3396),a=t(4870),r=JSON.parse('[{"name":"Ceiling Lamp","img":"./images/ceil_lamp.png","model":"./glb/ceil_lamp.glb","scale":[1.2,1.2,1.2],"rotate":[0,0,0],"position":[0,10,-4],"stickTo":["ceiling"],"noRecieveShadow":["Head"]},{"name":"Table Lamp","img":"./images/lamp.png","model":"./glb/lamp.glb","scale":[0.8,0.8,0.8],"rotate":[0,0,0],"position":[0,0,-2],"stickTo":["ground","Table_Circle004"],"noCastShadow":["Upper_circle","Lower_circle","Head"],"isLight":true},{"name":"Round Table","img":"./images/table.png","model":"./glb/table.glb","scale":[2,2,2],"rotate":[0,0,0],"position":[0,0,-2],"stickTo":["ground"]},{"name":"Modern Chair","img":"./images/chair-1.jpeg","model":"./glb/chair-1.glb","scale":[0.05,0.05,0.05],"rotate":[0,-30,0],"position":[0,0,-2],"stickTo":["ground","Table_Circle004"],"isSpinnable":true},{"name":"Computer Chair","img":"./images/chair-2.jpeg","model":"./glb/chair-2.glb","scale":[0.14,0.14,0.14],"rotate":[0,140,0],"position":[0,0,-2],"stickTo":["ground","Table_Circle004"],"isSpinnable":true},{"name":"Picture Frame","img":"./images/frame.png","model":"./glb/frame.glb","scale":[15,15,15],"rotate":[0,0,0],"position":[0,5,0],"stickTo":["wall"]},{"name":"Door","img":"./images/door.png","model":"./glb/door.glb","scale":[40,40,40],"rotate":[0,0,0],"position":[0,4,-6],"stickTo":["wall"]},{"name":"Plant","img":"./images/plant.jpeg","model":"./glb/plant.glb","scale":[0.1,0.1,0.1],"rotate":[0,100,0],"position":[0,0,-2],"stickTo":["ground","Table_Circle004"],"isSpinnable":true}]'),l=t(7139);const s={class:"list-item"},c={class:"title"};var d={__name:"ListItem",props:{img:String,name:String},setup(e){return(n,t)=>((0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("div",{class:"image",style:(0,l.j5)({backgroundImage:`url(${e.img})`})},null,4),(0,i._)("span",c,(0,l.zw)(e.name),1)]))}};const u=d;var m=u,g=(t(6699),t(1114)),p=t(4198);function f(e,n=[0,5,15],t=[0,0,0],o=45,i=.1,a=100){const r=()=>({width:e.offsetWidth,height:e.offsetHeight}),{width:l,height:s}=r();console.log("creating scene (width, height, mountPoint):",l,l,e);const c=new g.xsS,d=new g.cPb(o,l/s,i,a),u=new g.CP7;function m(){requestAnimationFrame(m),u.render(c,d)}return u.setSize(l,s),e.append(u.domElement),d.position.set(...n),d.rotation.set(...t.map(_)),u.shadowMap.enabled=!0,m(),e.style.position="relative",u.domElement.style.position="absolute",window.addEventListener("resize",(()=>{setTimeout((()=>{const{width:e,height:n}=r();u.setSize(e,n),d.aspect=e/n,d.updateProjectionMatrix(),console.log(d,u)}),0)})),console.log("created scene",c,d,u),{scene:c,camera:d,renderer:u}}function v(e,n,t){const o=new g.iMs,i=new g.FM8,a=n=>{const t=e.domElement,o=t.getBoundingClientRect(),a=n.clientX-o.left,r=n.clientY-o.top;i.x=a/t.clientWidth*2-1,i.y=r/t.clientHeight*-2+1},r=e=>{a(e),o.setFromCamera(i,t);const r=o.intersectObjects(n.children);return r};return r}function b(e,n="",t,o=[1,1,1],i=[0,0,0],a=[0,0,0],r=[],l=[]){const s=new p.E;return new Promise(((c,d)=>{s.load(t,(t=>{const s=t.scene;s.scale.set(...o),s.rotation.set(...i.map(_)),s.position.set(...a),s.traverse((e=>{r.includes(e.name)||(e.castShadow=!0),l.includes(e.name)||(e.receiveShadow=!0)})),n&&(s.name=n),e.add(s),console.log("added glb",s),c(s)}),null,(e=>{console.error("failed to add glb",e),d(e)}))}))}function h(e,n="",t=[1,1,1],o=13421772,i=[0,0,0],a=[0,0,0]){const r=new g.DvJ(...t),l=new g.Wid({color:o}),s=new g.Kj0(r,l);return s.position.set(...i),s.rotation.set(...a.map(_)),s.castShadow=!0,s.receiveShadow=!0,n&&(s.name=n),e.add(s),console.log("added box",s),s}function w(e,n=15790080,t=.5,o=20,i=[0,10,-5],a=!0){const r=new g.cek(n,t,o);return r.position.set(...i),r.castShadow=a,e.add(r),console.log("added point light",r),r}function k(e,n=16777215,t=.5){const o=new g.Mig(n,t);return e.add(o),console.log("added ambient light",o),o}function y(e,n){console.log("removing object from scene",n),n.traverse((e=>{console.log("dispose child node maretial & geometry",e,e.material,e.geometry),e.material?.dispose(),e.geometry?.dispose()})),e.remove(n)}const _=e=>e*Math.PI/180;let S,C,T,j,O,P,x;function D(e){({scene:S,camera:C,renderer:T}=f(e)),j=v(T,S,C),h(S,"ground",[20,15,.1],void 0,[0,0,-2.5],[90,0,0]),h(S,"wall",[20,10,1],void 0,[-10,5,-5],[0,90,0]),h(S,"wall",[20,10,1],void 0,[10,5,-5],[0,-90,0]),h(S,"wall",[20,10,1],void 0,[0,5,-10]),h(S,"ceiling",[20,15,.1],void 0,[0,10,-2.5],[90,0,0]),k(S,void 0,.1),w(S,5263440,.5,void 0,[0,5,0],!1)}function E(e){if(!j||!O)return;const n=j(e),t=n.find((e=>P.includes(e.object.name)));if(!t)return;const o=t.point;O.position.set(o.x,o.y,o.z),P.includes("wall")&&(O.rotation.y=t.object.rotation.y)}async function M(e){O||(O=await b(S,e.name,e.model,e.scale,e.rotate,e.position,e.noCastShadow,e.noRecieveShadow),P=e.stickTo,x=e.isSpinnable)}function H(){O=null}function L(e){switch(e.key){case"ArrowDown":F(90);break;case"ArrowUp":F(-90);break;case"Escape":z();break}}function F(e){O&&x&&(P.includes("wall")||(O.rotation.y+=_(e)))}function z(){console.log("remove"),O&&(y(S,O),O=null)}const A=e=>((0,i.dD)("data-v-258a2b2e"),e=e(),(0,i.Cn)(),e),I={class:"main-container"},R={class:"left-bar"},U={key:0,class:"rotate-message"},W=A((()=>(0,i._)("div",null,"Press esc to cancel",-1)));var K={__name:"App",setup(e){const n=(0,a.iH)();async function t(e){d.value=!0,u.value=e.isSpinnable,M(e)}function l(e){E(e)}function s(){d.value=!1,H()}function c(e){e.metaKey||(e.preventDefault(),"Escape"==e.key&&(d.value=!1),L(e))}(0,i.bv)((()=>{D(n.value),document.addEventListener("keydown",c)}));const d=(0,a.iH)(!1),u=(0,a.iH)(!1);return(e,c)=>((0,i.wg)(),(0,i.iD)("div",I,[(0,i._)("div",R,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,a.SU)(r),((e,n)=>((0,i.wg)(),(0,i.j4)(m,{key:`list-item-${n}`,img:e.img,name:e.name,onClick:n=>t(e)},null,8,["img","name","onClick"])))),128))]),(0,i._)("div",{class:"right-space",ref_key:"threeMount",ref:n,onPointermove:l,onClick:s},[(0,i.Wm)(o.uT,{name:"fade"},{default:(0,i.w5)((()=>[d.value?((0,i.wg)(),(0,i.iD)("div",U,[(0,i.wy)((0,i._)("div",null,"Use up/down keys to rotate the object",512),[[o.F8,u.value]]),W])):(0,i.kq)("",!0)])),_:1})],544)]))}},q=t(89);const J=(0,q.Z)(K,[["__scopeId","data-v-258a2b2e"]]);var Y=J;(0,o.ri)(Y).mount("#app")}},n={};function t(o){var i=n[o];if(void 0!==i)return i.exports;var a=n[o]={exports:{}};return e[o](a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(n,o,i,a){if(!o){var r=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],a=e[d][2];for(var l=!0,s=0;s<o.length;s++)(!1&a||r>=a)&&Object.keys(t.O).every((function(e){return t.O[e](o[s])}))?o.splice(s--,1):(l=!1,a<r&&(r=a));if(l){e.splice(d--,1);var c=i();void 0!==c&&(n=c)}}return n}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,i,a]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var i,a,r=o[0],l=o[1],s=o[2],c=0;if(r.some((function(n){return 0!==e[n]}))){for(i in l)t.o(l,i)&&(t.m[i]=l[i]);if(s)var d=s(t)}for(n&&n(o);c<r.length;c++)a=r[c],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(d)},o=self["webpackChunkliving_room_three"]=self["webpackChunkliving_room_three"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(5142)}));o=t.O(o)})();
//# sourceMappingURL=app.419a3eb5.js.map
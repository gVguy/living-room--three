{"version":3,"file":"js/app.419a3eb5.js","mappings":"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","sources":["webpack://living-room-three/./src/components/ListItem.vue","webpack://living-room-three/./src/three/scene-utils.js","webpack://living-room-three/./src/three/index.js","webpack://living-room-three/./src/App.vue","webpack://living-room-three/./src/App.vue?7ccd","webpack://living-room-three/./src/main.js","webpack://living-room-three/webpack/bootstrap","webpack://living-room-three/webpack/runtime/chunk loaded","webpack://living-room-three/webpack/runtime/compat get default export","webpack://living-room-three/webpack/runtime/define property getters","webpack://living-room-three/webpack/runtime/global","webpack://living-room-three/webpack/runtime/hasOwnProperty shorthand","webpack://living-room-three/webpack/runtime/jsonp chunk loading","webpack://living-room-three/webpack/startup"],"sourcesContent":["import script from \"./ListItem.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ListItem.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ListItem.vue?vue&type=style&index=0&id=1f00c77a&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import * as THREE from 'three'\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\n\nexport function createScene(\n  mountPoint,\n  cameraPositionArr = [0, 5, 15],\n  cameraRotationArr = [0, 0, 0],\n  cameraFov = 45,\n  cameraNear = 0.1,\n  cameraFar = 100\n) {\n  const getMountPointSize = () => ({\n    width: mountPoint.offsetWidth,\n    height: mountPoint.offsetHeight\n  })\n  const { width, height } = getMountPointSize()\n\n  console.log('creating scene (width, height, mountPoint):', width, width, mountPoint)\n\n  const scene = new THREE.Scene()\n  const camera = new THREE.PerspectiveCamera(cameraFov, width / height, cameraNear, cameraFar)\n\n  // create renderer\n  const renderer = new THREE.WebGLRenderer()\n  renderer.setSize(width, height)\n\n  mountPoint.append(renderer.domElement)\n\n  // set camera position\n  camera.position.set(...cameraPositionArr)\n  camera.rotation.set(...cameraRotationArr.map(rad))\n\n  renderer.shadowMap.enabled = true\n\n  // run render loop\n  function renderFrame() {\n    requestAnimationFrame(renderFrame)\n    renderer.render(scene, camera)\n  }\n  renderFrame()\n\n  // absolute position to allow parent resize and then match its size\n  mountPoint.style.position = 'relative'\n  renderer.domElement.style.position = 'absolute'\n  // observe window resize\n  window.addEventListener('resize', () => {\n    setTimeout(() => {\n      const { width, height } = getMountPointSize()\n      renderer.setSize(width, height)\n      camera.aspect = width / height\n      camera.updateProjectionMatrix()\n      console.log(camera, renderer)\n    }, 0)\n  })\n\n  console.log('created scene', scene, camera, renderer)\n\n  return { scene, camera, renderer }\n}\n\nexport function setupRaycaster(renderer, scene, camera) {\n  const raycaster = new THREE.Raycaster()\n  const pointer = new THREE.Vector2()\n\n  const updatePointer = (pointerEvent) => {\n    const canvas = renderer.domElement\n    const rect = canvas.getBoundingClientRect()\n    const x = pointerEvent.clientX - rect.left\n    const y = pointerEvent.clientY - rect.top\n    pointer.x = ( x / canvas.clientWidth ) *  2 - 1\n    pointer.y = ( y / canvas.clientHeight) * - 2 + 1\n  }\n\n  const raycast = (pointerEvent) => {\n    updatePointer(pointerEvent)\n    raycaster.setFromCamera(pointer, camera)\n    const intersects = raycaster.intersectObjects(scene.children)\n    return intersects\n  }\n\n  return raycast\n}\n\nexport function addGlb(\n  scene,\n  name = '',\n  glbPath,\n  scaleArr = [1, 1, 1],\n  rotationArr = [0, 0, 0],\n  positionArr = [0, 0, 0],\n  noCastShadowMeshNameArr = [],\n  noRecieveShadowMeshNameArr = []\n) {\n  const loader = new GLTFLoader()\n\n  return new Promise((resolve, reject) => {\n    loader.load(glbPath, (gltf) => {\n      // loaded\n      const object = gltf.scene\n\n      object.scale.set(...scaleArr)\n      object.rotation.set(...rotationArr.map(rad))\n      object.position.set(...positionArr)\n      \n      object.traverse(mesh => {\n        if (!noCastShadowMeshNameArr.includes(mesh.name)) {\n          mesh.castShadow = true\n        }\n        if (!noRecieveShadowMeshNameArr.includes(mesh.name)) {\n          mesh.receiveShadow = true\n        }\n      })\n\n      if (name) object.name = name\n\n      scene.add(object)\n\n      console.log('added glb', object)\n\n      resolve(object)\n    }, null, (error) => {\n      // error\n      console.error('failed to add glb', error)\n      reject(error)\n    })\n  })\n}\n\nexport function addBox(scene, name = '', dimensionsArr = [1, 1, 1], color = 0xcccccc, positionArr = [0, 0, 0], rotationArr = [0, 0, 0]) {\n  const geometry = new THREE.BoxGeometry(...dimensionsArr)\n  const material = new THREE.MeshStandardMaterial({ color })\n  const box = new THREE.Mesh(geometry, material)\n\n  box.position.set(...positionArr)\n  box.rotation.set(...rotationArr.map(rad))\n  box.castShadow = true\n  box.receiveShadow = true\n\n  if (name) box.name = name\n\n  scene.add(box)\n\n  console.log('added box', box)\n  return box\n}\n\nexport function addPointLight(scene, color = 0xf0f000, intensity = 0.5, distance = 20, positionArr= [0, 10, -5], castShadow = true) {\n  const light = new THREE.PointLight(color, intensity, distance)\n  light.position.set(...positionArr)\n  light.castShadow = castShadow\n  scene.add(light)\n\n  console.log('added point light', light)\n  return light\n}\n\nexport function addDirectionalLight(\n  scene,\n  color = 0xffffff,\n  intensity = 0.5,\n  positionArr = [10, 50, 0],\n  targetPositionArr = [-10, 0, -5],\n  shadowCameraBoundaries = { top: 100, right: 100, bottom: -100 },\n  lightMapSize = 2048\n) {\n  const light = new THREE.DirectionalLight(color, intensity)\n  light.position.set(...positionArr)\n  light.target.position.set(...targetPositionArr)\n  light.castShadow = true\n  Object.assign(light.shadow.camera, shadowCameraBoundaries)\n  light.shadow.mapSize.width = lightMapSize\n  light.shadow.mapSize.height = lightMapSize\n\n  scene.add(light)\n\n  console.log('added directional light', light)\n  return light\n}\n\nexport function addAmbientLight(scene, color = 0xffffff, intensity = 0.5) {\n  const light = new THREE.AmbientLight(color, intensity)\n  scene.add(light)\n\n  console.log('added ambient light', light)\n  return light\n}\n\nexport function disposeObject(scene, object) {\n  console.log('removing object from scene', object)\n  object.traverse(node => {\n    console.log('dispose child node maretial & geometry', node, node.material, node.geometry)\n    node.material?.dispose()\n    node.geometry?.dispose()\n  })\n  scene.remove(object)\n}\n\nexport const rad = (deg) => deg * Math.PI / 180\n","import { createScene, addGlb, setupRaycaster, addBox, addPointLight, rad, disposeObject, addAmbientLight } from '@/three/scene-utils'\n\nlet scene, camera, renderer, raycast, unplacedObject, unplacedObjectSticksTo, unplacedObjectIsSpinnable\n\nexport function init(mountPoint) {\n\n  // initial scene setup\n  ({ scene, camera, renderer } = createScene(mountPoint))\n\n  // setup raycast method\n  raycast = setupRaycaster(renderer, scene, camera)\n\n  // add base geometry\n  addBox(scene, 'ground', [20, 15, 0.1], undefined, [0, 0, -2.5], [90, 0, 0])\n  addBox(scene, 'wall', [20, 10, 1], undefined, [-10, 5, -5], [0, 90, 0])\n  addBox(scene, 'wall', [20, 10, 1], undefined, [10, 5, -5], [0, -90, 0])\n  addBox(scene, 'wall', [20, 10, 1], undefined, [0, 5, -10])\n  addBox(scene, 'ceiling', [20, 15, 0.1], undefined, [0, 10, -2.5], [90, 0, 0])\n\n  addAmbientLight(scene, undefined, 0.1)\n  addPointLight(scene, 0x505050, 0.5, undefined, [0, 5, 0], false)\n}\n\nexport function moveObject(pointerEvent) {\n  if (!raycast || !unplacedObject) return\n  const intersects = raycast(pointerEvent)\n  const targetIntersect = intersects.find(i => unplacedObjectSticksTo.includes(i.object.name))\n  if (!targetIntersect) return\n  const point = targetIntersect.point\n  unplacedObject.position.set(point.x, point.y, point.z)\n  if (unplacedObjectSticksTo.includes('wall')) {\n    unplacedObject.rotation.y = targetIntersect.object.rotation.y\n  }\n}\n\nexport async function addObject(item) {\n  if (unplacedObject) return\n  unplacedObject = await addGlb(\n    scene,\n    item.name,\n    item.model,\n    item.scale,\n    item.rotate,\n    item.position,\n    item.noCastShadow,\n    item.noRecieveShadow\n  )\n  unplacedObjectSticksTo = item.stickTo\n  unplacedObjectIsSpinnable = item.isSpinnable\n}\n\nexport function placeObject() {\n  unplacedObject = null\n}\nexport function keyHandler(e) {\n  switch (e.key) {\n  case 'ArrowDown':\n    rotateObject(90)\n    break\n  case 'ArrowUp':\n    rotateObject(-90)\n    break\n  case 'Escape':\n    removeObject()\n    break\n  }\n}\n\nfunction rotateObject(deg) {\n  if (!unplacedObject || !unplacedObjectIsSpinnable) return\n  if (unplacedObjectSticksTo.includes('wall')) return\n  unplacedObject.rotation.y += rad(deg)\n}\n\nfunction removeObject() {\n  console.log('remove')\n  if (!unplacedObject) return\n  disposeObject(scene, unplacedObject)\n  unplacedObject = null\n}\n","<template>\n  <div class=\"main-container\">\n    <div class=\"left-bar\">\n      <ListItem\n        v-for=\"(item, i) in dataJson\"\n        :key=\"`list-item-${i}`\"\n        :img=\"item.img\"\n        :name=\"item.name\"\n        @click=\"itemClickHandler(item)\"\n      />\n    </div>\n    <div\n      class=\"right-space\"\n      ref=\"threeMount\"\n      @pointermove=\"canvasMoveHandler\"\n      @click=\"canvasClickHandler\"\n    >\n    <Transition name=\"fade\">\n      <div class=\"rotate-message\" v-if=\"showMessage\">\n        <div v-show=\"showRotateMessage\">Use up/down keys to rotate the object</div>\n        <div>Press esc to cancel</div>\n      </div>\n    </Transition>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport dataJson from '@/assets/json/data.json'\nimport ListItem from '@/components/ListItem.vue'\nimport { onMounted, ref } from 'vue'\nimport { init, moveObject, addObject, placeObject, keyHandler } from '@/three/'\n\nconst threeMount = ref()\nonMounted(() => {\n  init(threeMount.value)\n  document.addEventListener('keydown', keydownHandler)\n})\n\nasync function itemClickHandler(item) {\n  showMessage.value = true\n  showRotateMessage.value = item.isSpinnable\n  addObject(item)\n}\n\nfunction canvasMoveHandler(e) {\n  moveObject(e)\n}\n\nfunction canvasClickHandler() {\n  showMessage.value = false\n  placeObject()\n}\n\nfunction keydownHandler(e) {\n  if (e.metaKey) return\n  e.preventDefault()\n  if (e.key == 'Escape') showMessage.value = false\n  keyHandler(e)\n}\n\nconst showMessage = ref(false)\nconst showRotateMessage = ref(false)\n\n</script>\n\n<style scoped lang=\"scss\">\n.main-container {\n  display: grid;\n  grid-template-columns: 300px 1fr;\n  height: 100vh;\n  width: 100vw;\n\n  &>div {\n    height: 100%;\n  }\n\n  .left-bar {\n    background: #e5ecee;\n    border-right: 2px solid rgb(130, 162, 170);\n    overflow-y: auto;\n  }\n\n  .right-space {\n    position: relative;\n  }\n}\n\n.rotate-message {\n  position: absolute;\n  background: rgba(black, 0.5);\n  color: white;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 5px;\n  text-align: center;\n  z-index: 2;\n}\n</style>\n\n<style>\nbody {\n  margin: 0;\n  padding: 0;\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\n  user-select: none;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n.fade-enter-active,\n.fade-leave-active {\n  transition: all 0.2s;\n}\n</style>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=258a2b2e&scoped=true&lang=scss\"\nimport \"./App.vue?vue&type=style&index=1&id=258a2b2e&lang=css\"\n\nimport exportComponent from \"/Users/ivanche/code/three/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-258a2b2e\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkliving_room_three\"] = self[\"webpackChunkliving_room_three\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(5142); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["__exports__","createScene","mountPoint","cameraPositionArr","cameraRotationArr","cameraFov","cameraNear","cameraFar","getMountPointSize","width","offsetWidth","height","offsetHeight","console","log","scene","THREE","camera","renderer","renderFrame","requestAnimationFrame","render","setSize","append","domElement","position","set","rotation","map","rad","shadowMap","enabled","style","window","addEventListener","setTimeout","aspect","updateProjectionMatrix","setupRaycaster","raycaster","pointer","updatePointer","pointerEvent","canvas","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","clientWidth","clientHeight","raycast","setFromCamera","intersects","intersectObjects","children","addGlb","name","glbPath","scaleArr","rotationArr","positionArr","noCastShadowMeshNameArr","noRecieveShadowMeshNameArr","loader","GLTFLoader","Promise","resolve","reject","load","gltf","object","scale","traverse","mesh","includes","castShadow","receiveShadow","add","error","addBox","dimensionsArr","color","geometry","material","box","addPointLight","intensity","distance","light","addAmbientLight","disposeObject","node","dispose","remove","deg","Math","PI","unplacedObject","unplacedObjectSticksTo","unplacedObjectIsSpinnable","init","undefined","moveObject","targetIntersect","find","i","point","z","async","addObject","item","model","rotate","noCastShadow","noRecieveShadow","stickTo","isSpinnable","placeObject","keyHandler","e","key","rotateObject","removeObject","threeMount","ref","itemClickHandler","showMessage","value","showRotateMessage","canvasMoveHandler","canvasClickHandler","keydownHandler","metaKey","preventDefault","onMounted","document","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","length","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}